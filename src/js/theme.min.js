import { playSound } from './audio.js';
function initThemeToggle() {
  const e = document.getElementById('theme-toggle'),
    t = document.body;
  if (e) {
    let n = 'light' !== localStorage.getItem('theme');
    (n
      ? (e.querySelector('.icon').textContent = '🌙')
      : (t.classList.add('light-theme'),
        (e.querySelector('.icon').textContent = '☀️')),
      e.addEventListener('click', () => {
        ((n = !n),
          n
            ? (t.classList.remove('light-theme'),
              (e.querySelector('.icon').textContent = '🌙'),
              localStorage.setItem('theme', 'dark'))
            : (t.classList.add('light-theme'),
              (e.querySelector('.icon').textContent = '☀️'),
              localStorage.setItem('theme', 'light')),
          playSound(523, 0.1));
      }),
      e.addEventListener('keydown', t => {
        ('Enter' !== t.key && ' ' !== t.key) || (t.preventDefault(), e.click());
      }));
  }
}
function initLoadingScreen() {
  window.addEventListener('load', () => {
    const e = document.getElementById('loading-screen');
    e &&
      setTimeout(() => {
        (e.classList.add('hidden'),
          setTimeout(() => {
            e.style.display = 'none';
          }, 500));
      }, 2e3);
  });
}
function initGreeting() {
  const e = document.getElementById('subtitle');
  if (e) {
    const t = new Date().getHours(),
      n = {
        morning: 'Good morning ☀️',
        afternoon: 'Good afternoon 🌤️',
        evening: 'Good evening 🌅',
        night: 'Good night 🌙',
      };
    let o;
    ((o =
      t >= 5 && t < 12
        ? n.morning
        : t < 18
          ? n.afternoon
          : t < 22
            ? n.evening
            : n.night),
      (e.innerText = o));
  }
}
function initBioTyping() {
  const e = document.getElementById('bio-text');
  if (e) {
    const t =
      "👋 Hey there, I'm Zaoo, a passionate web developer in the learning phase, seeking knowledge and gaining experience to develop myself day by day. Always excited to learn new technologies! 🚀";
    let n = 0;
    setTimeout(() => {
      !(function o() {
        n < t.length &&
          ((e.textContent += t.charAt(n)), n++, setTimeout(o, 30));
      })();
    }, 1e3);
  }
}
export { initThemeToggle, initLoadingScreen, initGreeting, initBioTyping };
